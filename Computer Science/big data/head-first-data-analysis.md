# 深入浅出数据分析

<!-- MarkdownTOC -->

- 分解数据
    - 统计模型取决于心智模型
- 检验你的理论
- 最优化：寻找最大值
- 数据图形化：图形让你更精明
- 假设检验：假设并非如此
- 贝叶斯统计
- 主观概率：信念数字化
- 启发法：凭人类的天性作分析
- 直方图：数字的形状
- 回归：预测
- 误差：合理误差
- 关系数据库
- 整理数据：井然有序
- 正文未及的十大要诀

<!-- /MarkdownTOC -->


## 分解数据

数据无所不在，数据分析就是仔细推敲证据。固定基本流程：

+ 确定：了解问题，确定问题
+ 分解：分解问题和数据，使其成为更小的组成部分
+ 评估：对前两步了解到的情况作出各种结论
+ 决策：把这些结论重新组合在一起，作出一个决策

**未明确**确定自己的问题或目标就进行数据分析就如同未定下目的地就上路旅行一样。

客户将根据你的分析作决策，你需要尽可能从他那里多了解一些信息，才能**确定问题**。

你对外界的假设和你确信的观点就是你的**心智模型**。心智模型有时助益良多，有时带来麻烦。重中之重是明确心智模型，并且像对待数据一样严肃认真地对待心智模型。

**务必尽量明确你的心智模型**

### 统计模型取决于心智模型

心智模型决定你的观察结果，是你观察现实的棱镜。你无法看到一切，因此你的大脑必须做出选择，以便集中注意力，这就是所谓的心智模型**决定观察结果**。你的统计模型**取决于**你的心智模型，如果用了错误的心智模型，分析就会胎死腹中。

**最好使用正确的心智模型**

心智模型应当包括你不了解的因素，一定要指出**不确定**因素，只要能明确不确定因素，你就会小心防范并想办法填补知识空白，继而提出更好的建议。

所获得的新数据若未经过任何处理，即称为**原始数据**，为了让他人提供的数据在你要进行的数据运算中发挥作用，几乎总是要调节数据。千万要**保存原始数据**，避免进行任何数据处理。即使是最好的数据分析师也会失误，必须能够将自己的工作结果与原始数据进行比较。

## 检验你的理论

一个好实验往往能让你摆脱对**观察数据**的无限依赖，能帮助你理清因果联系；可靠的**实证数据**将让你的分析判断更具有说服力。

**比较越多，分析结果越正确**，对于观察研究尤其如此。

为了**控制**观察研究混杂因素，有时候，将数据拆分为更小的数据块是一个好想法。这些小数据块更具有**同质性**。换句话说，这些小数据块不包含那些有可能扭曲你的分析结果及让你产生错误想法的内部偏差。

**控制组(Control Group)** 一组体现现状的处理对象，未经过任何新的处理(也称对照组)

没有控制组就意味着没有比较，没有比较就意味着无法对所发生的情况进行判断。

## 最优化：寻找最大值

**你能控制的变量受到约束条件的限制**，决策变量是你能控制的因素。约束条件不会告诉你的如何实现最大利润，它们只告诉你在实现利润最大化的过程中无法做到的事。

为了解决一个最优化问题，你需要将决策变量、约束条件及希望最大化的目标合并成一个目标函数。你希望最大化或最小化的对象就是目标，目标函数则可以帮助你找出最优化结果。

**任何最优化问题都有一些约束条件和一个目标函数**

**合理的选择都出现在可行区域里**

**新约束条件改变了可行区域**

**做好修改模型的准备**

## 数据图形化：图形让你更精明

**体现数据**。创建优秀数据图形的第一要务就是促使客户谨慎思考并制定决策，优秀的数据分析由始至终都离不开**用数据思考**。

散点图是**探索性数据分析**的奇妙工具，统计学家用这个术语描述在一组数据中寻找一些假设条件进行测试的活动。

分析师喜欢用散点图发现**因果关系**，即一个变量影响另一个变量的关系。通常用散点图的 X 轴代表自变量(我们假想为原因的变量)，用 Y 轴代表应变量(我们假定为结果的变量)。

**优秀的图形设计有助于思考的原因**，当你描述你的数据图形时，需要论述课相互换用的两种因果模型或图解

## 假设检验：假设并非如此

变量之间可以正相关，也可以负相关。

假设检验的核心是证伪，请勿试图选出最合理的假设，只需**剔除无法证实的假设**。

**诊断性**是证据所具有的一种功能，能够帮助你评估所考虑的假设的相对似然。如果证据具有诊断性，就能帮助你对假设排序。

## 贝叶斯统计

**贝叶斯规则**能帮助你利用**基础概率**和波动数据做到明察秋毫。

**条件概率**即以一件事的发生为前提的另一件事的发生概率。

我们的大脑生来不擅长处理概率数字，因此，将概率转变为整数，然后进行思考，是避免犯错误的一个有效办法。

新信息会改变的基础概率。

## 主观概率：信念数字化

如果用一个数字形式的概率来表示自己对某事的确认程度，所用的就是**主观概率**。

贝叶斯规则是修正主观概率的好办法

![da1](./_resources/da1.jpg)

使用贝叶斯规则求主观概率的根本在于找出**在假设成立的条件下，证据出现的概率**

## 启发法：凭人类的天性作分析

启发法是从直觉走向最优化的桥梁。

**启发法**1.(心理学定义)用一种更便于理解的属性代替一种难解的，令人困惑的属性。2.(计算机科学定义)一种解决问题的方法，可能会得出正确答案，但不保证得出最优化答案。

固定模式必定具有启发性：处理固定模式不需要大费力气，而且速度超快。

启发法并非百试不爽。快而省的经验可能有助于找出某些问题的答案，而在其他情况下，却先入为主地让你做出不恰当的判断。

## 直方图：数字的形状

**直方图**是一种功能强大的图形，无论数据集多庞大，直方图都能显示出数据点在数值范围内的**分布**情况

直方图不同区间之间的缺口即数据点之间的缺口

## 回归：预测

回归分析法力无边，只要使用得法，就能帮助你预测某些结果值。若与控制实验同时使用，回归分析还能预测未来。

回归线就是最准确地贯穿平均值图中的各个点的直线

## 误差：合理误差

指出误差可以让预测和信念更全面。

用回归方程预测数据范围以外的数值称为**外插法**。外插法与**内插法**有所不同，内插法对数据范围内的点进行预测，这这是回归法本来的目的。内插法很准确，但使用外插法就得小心了。

**低劣的预测比不作预测更糟糕**

千万要对模型假设保持戒心。观察他人的模型时，一定要想一想他们的假设有何道理，以及他们是否忘记了某种假设。不合适的假设会使模型完全失效——这还算是最好的结果；最坏的结果是具有危险的欺骗性。

机会误差 = 实际结果与模型预测结果之间的误差

## 关系数据库

数据库就是一系列相互有特定关系的数据。一个数据库就是一张表格或一组表格，表格以某种方式对数据进行管理，使数据之间的相互关系显而易见。

## 整理数据：井然有序

乱糟糟的数据毫无用处。作为数据分析师，你花在数据整理上的时间多过数据分析上的时间。

清理混乱数据的根本在于准备。一旦组织好数据，就能修复数据。

## 正文未及的十大要诀

1. 统计知识越渊博，分析工作越有可能取得辉煌成就
2. 娴熟的数据分析师应该是一个电子表格忍者
3. 体现出比较、对比、差异。体现出因果关系、机制、理由、系统结构。体现出多元数据。将文字、数字、图片、图形全面结合起来。充分描述证据。数据分析报告的成败在于报告内容的质量、相关性和整体性
4. 数据透视表是电子表格和数据分析软件中极其有效的数据分析工具，是探索性数据分析和相关数据库数据汇总的梦幻之作
5. R 社区
6. 非线性与多元回归
7. 原假设-备择假设检验
8. 随机性
9. Google Docs
10. 你的专业技能
